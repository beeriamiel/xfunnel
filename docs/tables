| table_schema | table_name              | columns                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| ------------ | ----------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| auth         | audit_log_entries       | instance_id uuid,
    id uuid NOT NULL,
    payload json,
    created_at timestamp with time zone,
    ip_address character varying(64) NOT NULL DEFAULT ''::character varying                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| auth         | flow_state              | created_at timestamp with time zone,
    updated_at timestamp with time zone,
    provider_access_token text,
    auth_code_issued_at timestamp with time zone,
    provider_refresh_token text,
    provider_type text NOT NULL,
    code_challenge text NOT NULL,
    id uuid NOT NULL,
    user_id uuid,
    auth_code text NOT NULL,
    authentication_method text NOT NULL,
    code_challenge_method USER-DEFINED NOT NULL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| auth         | identities              | last_sign_in_at timestamp with time zone,
    user_id uuid NOT NULL,
    provider text NOT NULL,
    provider_id text NOT NULL,
    email text,
    id uuid NOT NULL DEFAULT gen_random_uuid(),
    updated_at timestamp with time zone,
    created_at timestamp with time zone,
    identity_data jsonb NOT NULL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| auth         | instances               | raw_base_config text,
    uuid uuid,
    created_at timestamp with time zone,
    updated_at timestamp with time zone,
    id uuid NOT NULL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| auth         | mfa_amr_claims          | created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    id uuid NOT NULL,
    authentication_method text NOT NULL,
    session_id uuid NOT NULL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| auth         | mfa_challenges          | verified_at timestamp with time zone,
    ip_address inet NOT NULL,
    web_authn_session_data jsonb,
    otp_code text,
    factor_id uuid NOT NULL,
    id uuid NOT NULL,
    created_at timestamp with time zone NOT NULL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| auth         | mfa_factors             | phone text,
    status USER-DEFINED NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    last_challenged_at timestamp with time zone,
    web_authn_credential jsonb,
    web_authn_aaguid uuid,
    factor_type USER-DEFINED NOT NULL,
    secret text,
    friendly_name text,
    id uuid NOT NULL,
    user_id uuid NOT NULL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| auth         | one_time_tokens         | token_type USER-DEFINED NOT NULL,
    created_at timestamp without time zone NOT NULL DEFAULT now(),
    updated_at timestamp without time zone NOT NULL DEFAULT now(),
    token_hash text NOT NULL,
    relates_to text NOT NULL,
    id uuid NOT NULL,
    user_id uuid NOT NULL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| auth         | refresh_tokens          | parent character varying(255),
    id bigint NOT NULL DEFAULT nextval('auth.refresh_tokens_id_seq'::regclass),
    revoked boolean,
    created_at timestamp with time zone,
    updated_at timestamp with time zone,
    user_id character varying(255),
    session_id uuid,
    token character varying(255),
    instance_id uuid                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| auth         | saml_providers          | name_id_format text,
    attribute_mapping jsonb,
    created_at timestamp with time zone,
    updated_at timestamp with time zone,
    metadata_xml text NOT NULL,
    metadata_url text,
    entity_id text NOT NULL,
    sso_provider_id uuid NOT NULL,
    id uuid NOT NULL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| auth         | saml_relay_states       | updated_at timestamp with time zone,
    id uuid NOT NULL,
    request_id text NOT NULL,
    for_email text,
    redirect_to text,
    flow_state_id uuid,
    sso_provider_id uuid NOT NULL,
    created_at timestamp with time zone                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| auth         | schema_migrations       | version character varying(255) NOT NULL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| auth         | sessions                | not_after timestamp with time zone,
    id uuid NOT NULL,
    user_id uuid NOT NULL,
    created_at timestamp with time zone,
    updated_at timestamp with time zone,
    factor_id uuid,
    aal USER-DEFINED,
    refreshed_at timestamp without time zone,
    ip inet,
    user_agent text,
    tag text                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| auth         | sso_domains             | sso_provider_id uuid NOT NULL,
    domain text NOT NULL,
    created_at timestamp with time zone,
    updated_at timestamp with time zone,
    id uuid NOT NULL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| auth         | sso_providers           | updated_at timestamp with time zone,
    resource_id text,
    created_at timestamp with time zone,
    id uuid NOT NULL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| auth         | users                   | phone text DEFAULT NULL::character varying,
    phone_change text DEFAULT ''::character varying,
    is_anonymous boolean NOT NULL DEFAULT false,
    deleted_at timestamp with time zone,
    is_sso_user boolean NOT NULL DEFAULT false,
    reauthentication_sent_at timestamp with time zone,
    reauthentication_token character varying(255) DEFAULT ''::character varying,
    banned_until timestamp with time zone,
    email_change_token_current character varying(255) DEFAULT ''::character varying,
    email_change_confirm_status smallint DEFAULT 0,
    phone_change_token character varying(255) DEFAULT ''::character varying,
    instance_id uuid,
    id uuid NOT NULL,
    email_confirmed_at timestamp with time zone,
    invited_at timestamp with time zone,
    confirmation_sent_at timestamp with time zone,
    recovery_sent_at timestamp with time zone,
    email_change_sent_at timestamp with time zone,
    last_sign_in_at timestamp with time zone,
    raw_app_meta_data jsonb,
    raw_user_meta_data jsonb,
    is_super_admin boolean,
    created_at timestamp with time zone,
    updated_at timestamp with time zone,
    phone_confirmed_at timestamp with time zone,
    confirmed_at timestamp with time zone,
    phone_change_sent_at timestamp with time zone,
    aud character varying(255),
    role character varying(255),
    email character varying(255),
    encrypted_password character varying(255),
    confirmation_token character varying(255),
    recovery_token character varying(255),
    email_change_token_new character varying(255),
    email_change character varying(255) |
| public       | account_users           | created_at timestamp with time zone DEFAULT now(),
    role text NOT NULL,
    id uuid NOT NULL DEFAULT gen_random_uuid(),
    account_id uuid NOT NULL,
    user_id uuid NOT NULL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| public       | accounts                | monthly_credits_available integer NOT NULL DEFAULT 0,
    id uuid NOT NULL DEFAULT gen_random_uuid(),
    name text NOT NULL,
    account_type text NOT NULL,
    plan_type text NOT NULL,
    created_at timestamp with time zone DEFAULT now(),
    last_update_date timestamp with time zone DEFAULT now(),
    credits_renewal_date timestamp with time zone,
    monthly_credits_used integer NOT NULL DEFAULT 0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| public       | batch_metadata          | error_message text,
    company_id bigint,
    batch_type text NOT NULL,
    created_at timestamp with time zone DEFAULT now(),
    account_id uuid,
    completed_at timestamp with time zone,
    metadata jsonb,
    status text NOT NULL,
    batch_id uuid NOT NULL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| public       | citations               | citation_order integer NOT NULL,
    id bigint NOT NULL,
    created_at timestamp with time zone DEFAULT now(),
    response_analysis_id bigint NOT NULL,
    company_id bigint NOT NULL,
    recommended boolean,
    company_mentioned boolean,
    ranking_position integer,
    updated_at timestamp with time zone DEFAULT CURRENT_TIMESTAMP,
    domain_authority bigint,
    source_type USER-DEFINED NOT NULL DEFAULT 'EARNED'::citation_source_type,
    page_authority integer,
    spam_score integer,
    root_domains_to_root_domain integer,
    external_links_to_root_domain integer,
    moz_last_crawled timestamp with time zone,
    moz_last_updated timestamp with time zone,
    content_scraped_at timestamp with time zone,
    content_analysis_updated_at timestamp with time zone,
    is_original boolean DEFAULT true,
    origin_citation_id bigint,
    account_id uuid,
    buyer_persona text,
    buyer_journey_phase text,
    rank_list text,
    mentioned_companies ARRAY,
    icp_vertical text,
    response_text text,
    region text,
    query_text text,
    content_analysis text,
    content_markdown text,
    content_scraping_error text,
    mentioned_companies_count ARRAY,
    citation_url text NOT NULL                                                                                                                                                                                                                                                                                                                                                                                           |
| public       | companies               | annual_revenue text,
    product_category text,
    main_products ARRAY DEFAULT '{}'::text[],
    industry text,
    name text NOT NULL,
    id bigint NOT NULL,
    created_at timestamp with time zone DEFAULT now(),
    number_of_employees integer,
    account_id uuid,
    markets_operating_in ARRAY DEFAULT '{}'::text[]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public       | competitors             | competitor_name text NOT NULL,
    account_id uuid,
    company_id bigint NOT NULL,
    id bigint NOT NULL,
    created_at timestamp with time zone DEFAULT now()                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public       | generation_progress     | account_id uuid,
    created_at timestamp with time zone DEFAULT now(),
    company_id bigint NOT NULL,
    updated_at timestamp with time zone DEFAULT now(),
    status text NOT NULL,
    id bigint NOT NULL,
    error_message text,
    progress integer NOT NULL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| public       | ideal_customer_profiles | created_at timestamp with time zone DEFAULT now(),
    vertical text NOT NULL,
    company_size text NOT NULL,
    region text NOT NULL,
    account_id uuid,
    created_by_batch boolean DEFAULT false,
    icp_batch_id uuid DEFAULT gen_random_uuid(),
    company_id bigint,
    id bigint NOT NULL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| public       | persona_response_stats  | persona_title text,
    persona_id bigint,
    total_questions bigint,
    questions_with_responses bigint,
    latest_response_date timestamp with time zone,
    total_batches bigint                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| public       | personas                | seniority_level text NOT NULL,
    created_at timestamp with time zone DEFAULT now(),
    icp_id bigint,
    account_id uuid,
    department text NOT NULL,
    title text NOT NULL,
    id bigint NOT NULL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| public       | prompt_logs             | context_data jsonb,
    prompt_template_ids ARRAY NOT NULL,
    persona_id bigint,
    company_id bigint,
    created_at timestamp with time zone DEFAULT now(),
    id bigint NOT NULL,
    system_prompt text NOT NULL,
    user_prompt text NOT NULL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| public       | prompts                 | prompt_type text,
    name text NOT NULL,
    updated_at timestamp with time zone DEFAULT now(),
    created_at timestamp with time zone DEFAULT now(),
    prompt_text text NOT NULL,
    id bigint NOT NULL,
    is_active boolean DEFAULT false                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| public       | queries                 | persona_id bigint,
    company_id bigint,
    created_at timestamp with time zone DEFAULT now(),
    prompt_id bigint,
    user_id uuid,
    query_batch_id uuid DEFAULT gen_random_uuid(),
    created_by_batch boolean DEFAULT false,
    account_id uuid,
    id bigint NOT NULL,
    query_text text NOT NULL,
    buyer_journey_phase ARRAY                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| public       | response_analysis       | buyer_persona text,
    buying_journey_stage text,
    analysis_batch_id uuid,
    response_text text,
    rank_list text,
    query_text text,
    company_name text NOT NULL,
    prompt_name text,
    competitors_list ARRAY DEFAULT '{}'::text[],
    mentioned_companies ARRAY DEFAULT '{}'::text[],
    cited boolean,
    recommended boolean,
    account_id uuid,
    citations_parsed jsonb,
    response_id bigint,
    created_by_batch boolean DEFAULT false,
    id bigint NOT NULL,
    company_id bigint NOT NULL,
    company_mentioned boolean DEFAULT false,
    ranking_position integer,
    sentiment_score double precision,
    icp_vertical text,
    created_at timestamp with time zone DEFAULT now(),
    query_id bigint,
    prompt_id bigint,
    solution_analysis jsonb,
    geographic_region text,
    industry_vertical text,
    answer_engine text NOT NULL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| public       | response_analysis_view  | citations_parsed jsonb,
    recommended boolean,
    company_mentioned boolean,
    ranking_position integer,
    sentiment_score double precision,
    industry_vertical text,
    created_at timestamp with time zone,
    id bigint,
    buyer_persona text,
    buying_journey_stage text,
    geographic_region text,
    response_id bigint                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| public       | responses               | created_at timestamp with time zone DEFAULT now(),
    citations ARRAY,
    query_id bigint,
    response_batch_id uuid DEFAULT gen_random_uuid(),
    response_text text NOT NULL,
    created_by_batch boolean DEFAULT false,
    answer_engine text,
    websearchqueries ARRAY,
    account_id uuid,
    url text,
    id bigint NOT NULL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |